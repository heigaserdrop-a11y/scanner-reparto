<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Escanear Gu√≠a</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://unpkg.com/html5-qrcode"></script>
</head>
<body style="font-family: Arial; text-align: center; padding: 20px;">

  <h2>Escanear Gu√≠a</h2>

  <div id="reader" style="width:100%; max-width:400px; margin:auto;"></div>

  <p id="guia" style="font-size:18px; font-weight:bold;"></p>

  <button onclick="marcar('ENTREGADO')" style="padding:15px; margin:10px; width:90%; font-size:18px;">
    ‚úÖ ENTREGADO
  </button>

  <button onclick="marcar('REINTENTO')" style="padding:15px; margin:10px; width:90%; font-size:18px;">
    üîÅ REINTENTO
  </button>

<script>
let guiaActual = '';

function onScanSuccess(text) {
  guiaActual = text;
  document.getElementById('guia').innerText = 'Gu√≠a escaneada: ' + text;
}

new Html5QrcodeScanner(
  "reader",
  { fps: 10, qrbox: 250 }
).render(onScanSuccess);

function marcar(estado) {
  if (!guiaActual) {
    alert('Primero escanea una gu√≠a');
    return;
  }
  alert('Gu√≠a ' + guiaActual + ' marcada como ' + estado);
}
</script>

</body>
</html>
